<app-nav>
</app-nav>

<stache
  navTitle="Add Stache"
  navOrder="4">
  <stache-tutorial>
    <stache-tutorial-heading>
      Add {{ stache.jsonData.global.productNameShort }} to a SKY UX Application
    </stache-tutorial-heading>
    <stache-tutorial-summary>
      This tutorial provides step-by-step instructions to add {{ stache.jsonData.global.productNameShort }} to an existing SPA.
    </stache-tutorial-summary>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Install dependencies
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <stache-code-block>
          npm install --save @blackbaud/stache
        </stache-code-block>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Add the {{ stache.jsonData.global.productNameShort }} module to your application
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          Open the <stache-code>app-extras.module.ts</stache-code> file in your project. Import and export <stache-code>StacheModule</stache-code> to make {{ stache.jsonData.global.productNameShort }} components available throughout the project.
        </p>

        <stache-code-block
          languageType="typescript">
          import { NgModule } from '@angular/core';

          import { StacheModule } from '@blackbaud/stache';

          // Specify entry components, module-level providers, etc. here.
          @NgModule({
            imports: [
              StacheModule
            ],
            exports: [
              StacheModule
            ],
            ...
        </stache-code-block>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Update app-nav Component
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <ol>
          <li>
            Open the
            <stache-code>src/app/shared/app-nav</stache-code> directory.
          </li>
          <li>
            Create a file named
            <stache-code>app-nav.component.scss</stache-code> and add the following style.
            <stache-code-block languageType="css">
              .sky-container {
                display: flex;
              }
            </stache-code-block>
          </li>
          <li>
            Open the
            <stache-code>src/app/shared/app-nav/app-nav.component.ts</stache-code> file and add the
            <stache-code>./app-nav.component.scss</stache-code> file to the
            <stache-code>styleUrls</stache-code> array.

            <stache-code-block languageType="typescript">
              @Component({
                selector: 'app-nav',
                templateUrl: './app-nav.component.html',
                styleUrls: ['./app-nav.component.scss']
              })
            </stache-code-block>
          </li>
        </ol>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Declare plugins
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          Open the <stache-code>skyuxconfig.json</stache-code> file in your project. Add the required {{ stache.jsonData.global.productNameShort }} plugins to the <stache-code>plugins</stache-code> array.
        </p>

        <stache-code-block
          languageType="json">
            {
              "name": "stache",
              "mode": "easy",
              "compileMode": "aot",
              "plugins": [
                "@blackbaud/skyux-builder-plugin-stache"
              ],
              "app": {
                "title": "Stache 2 Documentation"
              }
            }
        </stache-code-block>
        <sky-alert alertType="info">
          <p>
            If you set <stache-code>"auth": true</stache-code> in <stache-code>skyuxconfig.json</stache-code> to require Blackbaud authentication, you can also use the <stache-code>skyux-builder-plugin-auth-email-whitelist</stache-code> plugin to lock authentication to the following approved email extensions:
          </p>

          <ul>
            <li>
              blackbaud.com
            </li>
            <li>
              blackbaud.me
            </li>
            <li>
              blackbaud.co.uk
            </li>
            <li>
              blackbaud.au
            </li>
            <li>
              microedge.com
            </li>
            <li>
              attentive.ly
            </li>
            <li>
              everydayhero.com
            </li>
          </ul>
        </sky-alert>
        <p>If you opt to use the whitelist plugin, you must add it to the <stache-code>plugins</stache-code> array.</p>

        <stache-code-block>
          "auth": true
          "plugins": [
            "@blackbaud/skyux-builder-plugin-auth-email-whitelist"
            ...
        </stache-code-block>
      </stache-tutorial-step-body>
    </stache-tutorial-step>
  </stache-tutorial>
</stache>
